{"name":"Stratified Sampling - Split","uuid":"523f75d9-942d-46c9-af1f-5e2d5b94d690","category":"Sampling","nodes":[{"id":"9","name":"PrintNRows","description":"Prints the specified number of records in the DataFrame. It is useful for seeing intermediate output","details":"","examples":"","type":"transform","nodeClass":"fire.nodes.util.NodePrintFirstNRows","x":"551px","y":"66px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"title","value":"Row Values","widget":"textfield","title":"Title","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"n","value":"10","widget":"textfield","title":"Num Rows to Print","description":"number of rows to be printed","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"all"},{"id":"11","name":"PrintNRows","description":"Prints the specified number of records in the DataFrame. It is useful for seeing intermediate output","details":"","examples":"","type":"transform","nodeClass":"fire.nodes.util.NodePrintFirstNRows","x":"560px","y":"315px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"title","value":"Row Values","widget":"textfield","title":"Title","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"n","value":"10","widget":"textfield","title":"Num Rows to Print","description":"number of rows to be printed","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"all"},{"id":"12","name":"ReadCSV","description":"It reads in CSV files and creates a DataFrame from it","details":"","examples":"","type":"dataset","nodeClass":"fire.nodes.dataset.NodeDatasetCSV","x":"64px","y":"210px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"path","value":"data/creditcardfraud/creditcardfraud_sampled.csv","widget":"textfield","title":"Path","description":"Path of the Text file/directory","required":true,"display":true,"editable":true,"disableRefresh":false},{"name":"separator","value":",","widget":"textfield","title":"Separator","description":"CSV Separator","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"header","value":"true","widget":"array","title":"Header","description":"Does the file have a header row","optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"dropMalformed","value":"false","widget":"array","title":"Drop Malformed","description":"Whether to drop Malformed records or error","optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColNames","value":"[\"V1\",\"V2\",\"V3\",\"V4\",\"V5\",\"V6\",\"V7\",\"V8\",\"V9\",\"V10\",\"V11\",\"V12\",\"V13\",\"V14\",\"V15\",\"V16\",\"V17\",\"V18\",\"V19\",\"V20\",\"V21\",\"V22\",\"V23\",\"V24\",\"V25\",\"V26\",\"V27\",\"V28\",\"Amount\",\"Class\"]","widget":"schema_col_names","title":"Column Names for the CSV","description":"New Output Columns of the SQL","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColTypes","value":"[\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"DOUBLE\",\"INTEGER\"]","widget":"schema_col_types","title":"Column Types for the CSV","description":"Data Type of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColFormats","value":"[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]","widget":"schema_col_formats","title":"Column Formats for the CSV","description":"Format of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"all"},{"id":"13","name":"Split With Stratified Sampling","description":"This node splits the incoming DataFrame into 2. It takes in the fraction to use in splitting the data by Stratified Sampling.","details":"Split With Stratified Sampling, which is the preferred way to sample from populations with varing subpopulation sizes.\u003cbr\u003e\n\u003cbr\u003e\nMore details are available at : \u003ca href\u003d\"https://spark.apache.org/docs/latest/api/python/_modules/pyspark/sql/dataframe.html#DataFrame.sampleBy\" target\u003d\"_blank\"\u003espark.apache.org/docs/latest/api/python/_modules/pyspark/sql/dataframe.html#DataFrame.sampleBy\u003c/a\u003e\u003cbr\u003e","examples":"","type":"transform","nodeClass":"fire.nodes.util.SplitWithStratifiedSampling","x":"268px","y":"211px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"keyInputCol","value":"Class","widget":"variable","title":"Column Name","description":"column that defines strata","required":true,"display":true,"editable":true,"disableRefresh":false},{"name":"fraction","value":"0.8","widget":"textfield","title":"Fraction","description":"sampling fraction for each stratum. If a stratum is not specified, we treat its fraction as zero","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"seed","value":"0","widget":"textfield","title":"Seed","description":"random seed","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"14","name":"StickyNote","description":"Allows capturing Notes on the Workflow","details":"","examples":"","type":"sticky","nodeClass":"fire.nodes.doc.NodeStickyNote","x":"27.9896px","y":"375.99px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"bgColor","value":"#f8f9fa","widget":"textfield","title":"Bg Color","description":"Background of note","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"width","value":"460.020834px","widget":"textfield","title":"Width","description":"Width of note","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"height","value":"215.020834px","widget":"textfield","title":"Height","description":"Height of note","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"comment","value":"\u003cp\u003eThe CC data is very unbalanced and splitting the data with in-built sparkflows processor i.e \u003cstrong\u003eSplitWithStratifiedSampling.\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong style\u003d\"color: rgb(74, 74, 74);\"\u003eï»¿StratifiedSampling:\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong style\u003d\"color: rgb(34, 34, 34);\"\u003eStratified sampling\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(34, 34, 34);\"\u003e\u0026nbsp;refers to a type of\u0026nbsp;\u003c/span\u003e\u003cstrong style\u003d\"color: rgb(34, 34, 34);\"\u003esampling\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(34, 34, 34);\"\u003e\u0026nbsp;method . With\u0026nbsp;\u003c/span\u003e\u003cstrong style\u003d\"color: rgb(34, 34, 34);\"\u003estratified sampling\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(34, 34, 34);\"\u003e, the researcher divides the population into separate groups. Then, a probability\u0026nbsp;\u003c/span\u003e\u003cstrong style\u003d\"color: rgb(34, 34, 34);\"\u003esample\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(34, 34, 34);\"\u003e\u0026nbsp;(often a simple random\u0026nbsp;\u003c/span\u003e\u003cstrong style\u003d\"color: rgb(34, 34, 34);\"\u003esample\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(34, 34, 34);\"\u003e\u0026nbsp;) is drawn from each group.\u0026nbsp;\u003c/span\u003e\u003cstrong style\u003d\"color: rgb(34, 34, 34);\"\u003eStratified sampling\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(34, 34, 34);\"\u003e\u0026nbsp;has several advantages over simple random\u0026nbsp;\u003c/span\u003e\u003cstrong style\u003d\"color: rgb(34, 34, 34);\"\u003esampling\u003c/strong\u003e\u003cspan style\u003d\"color: rgb(34, 34, 34);\"\u003e.\u003c/span\u003e\u003c/p\u003e","widget":"textarea_rich","title":"Comment","description":"Comments for the Workflow","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"}],"edges":[{"source":"12","target":"13","id":1},{"source":"13","target":"9","id":2},{"source":"13","target":"11","id":3}],"dataSetDetails":[],"engine":"scala"}