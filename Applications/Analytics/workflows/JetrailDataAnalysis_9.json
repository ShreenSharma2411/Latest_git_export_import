{"name":"JetrailDataAnalysis","uuid":"1c56b395-f49a-4303-a19c-5b1d646b9904","category":"Distribution","description":"Calculates the monthly trend in JetRail Dataset","parameters":"-","nodes":[{"id":"1","name":"DatasetStructured","description":"This Node creates a DataFrame by reading data from HDFS, HIVE etc. The dataset has been defined earlier in Fire by using the Dataset Feature. As a user, you just have to select the Dataset of your interest.","details":"This Node creates a DataFrame by reading data from HDFS, HIVE etc.\u003cbr\u003e\n\u003cbr\u003e\nThe data has been defined earlier in Fire by using the Dataset Feature. As a user, you just have to select the Dataset of your interest.\u003cbr\u003e","examples":"","type":"dataset","nodeClass":"fire.nodes.dataset.NodeDatasetStructured","x":"48.9757px","y":"187.625px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"dataset","value":"935ee5eb-b634-42f2-8b4e-386883be019f","widget":"dataset","title":"Dataset","description":"Selected Dataset","required":true,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"2","name":"DateTimeFieldExtract","description":"It creates a new DataFrame by extracting Date and Time fields.","details":"Extracts year, month, day of month, hour, minute, second and week of year in different columns.\u003cbr\u003e","examples":"","type":"transform","nodeClass":"fire.nodes.etl.NodeDateTimeFieldExtract","x":"253.67px","y":"189.337px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"inputCol","value":"Datetime","widget":"variable","title":"Column","description":"The input column name","datatypes":["date","timestamp"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"extractYear","value":"true","widget":"array","title":"Extract Year","description":"Extract Year","datatypes":["boolean"],"optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"extractMonth","value":"true","widget":"array","title":"Extract Month","description":"Extract Month","datatypes":["boolean"],"optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"extractDayOfMonth","value":"false","widget":"array","title":"Extract Day of Month","description":"Extract Day of Month","datatypes":["boolean"],"optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"extractHour","value":"false","widget":"array","title":"Extract Hour","description":"Extract Hour","datatypes":["boolean"],"optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"extractMinute","value":"false","widget":"array","title":"Extract Minute","description":"Extract Minute","datatypes":["boolean"],"optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"extractSecond","value":"false","widget":"array","title":"Extract Second","description":"Extract Second","datatypes":["boolean"],"optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"extractWeekOfYear","value":"false","widget":"array","title":"Extract WeekOfYear","description":"Extract WeekOfYear","datatypes":["boolean"],"optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"3","name":"Calculate Count per Month","description":"This node runs the given SQL on the incoming DataFrame","details":"","examples":"","type":"transform","nodeClass":"fire.nodes.etl.NodeSQL","x":"469.42px","y":"186.066px","hint":"Whenever the table is changed, go to Schema tab and Refresh the Schema","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"tempTable","value":"fire_temp_table","widget":"textfield","title":"Temp Table","description":"Temp Table Name to be used","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"sql","value":"select cast(Datetime_year as string) as Datetime_year , cast(Datetime_month as string) as Datetime_month , \nsum(Count) as Count  from fire_temp_table group by Datetime_year, Datetime_month","widget":"textarea_large","type":"sql","title":"SQL","description":"SQL to be run","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"schema","value":"","widget":"tab","title":"Schema","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColNames","value":"[\"Datetime_year\",\"Datetime_month\",\"Count\"]","widget":"schema_col_names","title":"Output Column Names","description":"Name of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColTypes","value":"[\"STRING\",\"STRING\",\"LONG\"]","widget":"schema_col_types","title":"Output Column Types","description":"Data Type of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColFormats","value":"[\"\",\"\",\"\"]","widget":"schema_col_formats","title":"Output Column Formats","description":"Format of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"4","name":"SQL","description":"This node runs the given SQL on the incoming DataFrame","details":"","examples":"","type":"transform","nodeClass":"fire.nodes.etl.NodeSQL","x":"677.42px","y":"184.052px","hint":"Whenever the table is changed, go to Schema tab and Refresh the Schema","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"tempTable","value":"fire_temp_table","widget":"textfield","title":"Temp Table","description":"Temp Table Name to be used","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"sql","value":"select cast(concat(Datetime_year,Datetime_month) as double)as year_month, cast(Count as double) as Count  \nfrom fire_temp_table","widget":"textarea_large","type":"sql","title":"SQL","description":"SQL to be run","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"schema","value":"","widget":"tab","title":"Schema","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColNames","value":"[\"year_month\",\"Count\"]","widget":"schema_col_names","title":"Output Column Names","description":"Name of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColTypes","value":"[\"DOUBLE\",\"DOUBLE\"]","widget":"schema_col_types","title":"Output Column Types","description":"Data Type of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"outputColFormats","value":"[\"\",\"\"]","widget":"schema_col_formats","title":"Output Column Formats","description":"Format of the Output Columns","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"7","name":"PrintNRows","description":"Prints the specified number of records in the DataFrame. It is useful for seeing intermediate output","details":"","examples":"","type":"transform","nodeClass":"fire.nodes.util.NodePrintFirstNRows","x":"931.434px","y":"77.1007px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"title","value":"Row Values","widget":"textfield","title":"Title","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"n","value":"100","widget":"textfield","title":"Num Rows to Print","description":"number of rows to be printed","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"8","name":"GraphValues","details":"","examples":"","type":"transform","nodeClass":"fire.nodes.graph.NodeGraphValues","x":"959.424px","y":"273.108px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"title","value":"Graph","widget":"textfield","title":"Title","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"xlabel","value":"year_month","widget":"textfield","title":"X Label","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"ylabel","value":"count","widget":"textfield","title":"Y Label","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"maxValuesToDisplay","value":"20","widget":"textfield","title":"Max Values To Display","description":"Maximum number of values to display in result.","required":true,"display":true,"editable":true,"disableRefresh":false},{"name":"graphType","value":"LINECHART","widget":"enum","title":"Chart Type","optionsMap":{"LINECHART":"Line Chart","COLUMNCHART":"Side by Side Bar Chart","BARCHART":"Stacked Bar Chart","PIE":"Pie Chart"},"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"isStreaming","value":"false","widget":"array","title":"Is Streaming?","description":"Whether the Graph is a Streaming Graph or not","datatypes":["boolean"],"optionsArray":["true","false"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"xCol","value":"year_month","widget":"variable","title":"X Column","required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"yCols","value":"[\"Count\"]","widget":"variables","title":"Y Columns","datatypes":["integer","long","double","float"],"required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"},{"id":"9","name":"Documentation","description":"Allows capturing Notes on the Workflow","details":"","examples":"","type":"doc","nodeClass":"fire.nodes.doc.NodeDocLarge","x":"48.9896px","y":"24.6424px","fields":[{"name":"storageLevel","value":"DEFAULT","widget":"array","title":"Output Storage Level","description":"Storage Level of the Output Datasets of this Node","optionsArray":["DEFAULT","NONE","DISK_ONLY","DISK_ONLY_2","MEMORY_ONLY","MEMORY_ONLY_2","MEMORY_ONLY_SER","MEMORY_ONLY_SER_2","MEMORY_AND_DISK","MEMORY_AND_DISK_2","MEMORY_AND_DISK_SER","MEMORY_AND_DISK_SER_2","OFF_HEAP"],"required":false,"display":true,"editable":true,"disableRefresh":false},{"name":"comment","value":"\u003ch1\u003eAnalyzing Workflow using jetRail data\u003c/h1\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003ch2\u003eIt demonstrate the creating of workflow to analyze(distribution of) the data.\u003c/h2\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eTask: Sum of the counts of the passengers monthly.\u003c/strong\u003e\u003c/p\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003eExtract the year and month fields from DateTime field of type timestamp.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003eBy grouping \u0026amp; selecting only required fields calculate the sum of counts.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003cbr\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003ePrint \u0026amp; Visualize the analysis by using GraphValues node.\u003c/li\u003e\u003c/ul\u003e","widget":"textarea_rich","title":"Comment","description":"Comments for the Workflow","required":false,"display":true,"editable":true,"disableRefresh":false}],"engine":"scala"}],"edges":[{"source":"1","target":"2","id":1},{"source":"2","target":"3","id":2},{"source":"3","target":"4","id":3},{"source":"4","target":"7","id":4},{"source":"4","target":"8","id":5}],"dataSetDetails":[{"id":69,"uuid":"935ee5eb-b634-42f2-8b4e-386883be019f","header":true,"path":"data/jetrail/Train_JPXjxg6.csv","delimiter":",","datasetType":"CSV","filterLinesContaining":"Datetime","datasetSchema":"{\"colNames\":[\"Datetime\",\"Count\"],\"colTypes\":[\"TIMESTAMP\",\"INTEGER\"],\"colFormats\":[\"dd-MM-yyyy HH:mm\",\"\"],\"colMLTypes\":[\"TEXT\",\"NUMERIC\"]}"}],"engine":"scala"}